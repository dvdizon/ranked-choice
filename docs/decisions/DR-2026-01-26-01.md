# DR-2026-01-26-01: Serve the App Under `/rcv` When Sharing a Domain

**Decision ID:** DR-2026-01-26-01
**Status:** Accepted
**Date:** 2026-01-26
**Deciders:** User (David)

#### Context
The app is hosted alongside other services on the same domain, so it needs a
stable subpath to avoid conflicts and broken assets.

#### Options Considered
- **Option A: Serve at the domain root**
  - Simplifies routing but conflicts with existing root redirects
- **Option B: Serve under `/rcv` with a base path**
  - Keeps other root behavior intact
  - Requires basePath-aware links and API calls

#### Decision
Implement Option B - serve the app under `/rcv` and normalize internal paths.

#### Rationale
- Preserves existing root redirect behavior
- Keeps nginx isolation consistent with other apps
- Makes asset and API URLs predictable under a shared domain

#### Consequences
- `next.config.js` sets `basePath: '/rcv'`
- Internal navigation uses `withBasePath()` helper
- API docs and deployment instructions note the `/rcv` prefix

#### Scope
- [x] Deployment / ops
- [x] UX / product behavior

#### Notes
- If deployment changes to root hosting, remove the basePath and helper usage.

---
