# DR-2026-01-25-04: Admin Panel for Vote Management

**Decision ID:** DR-2026-01-25-04
**Status:** Accepted
**Date:** 2026-01-25
**Deciders:** User (David)

#### Context
Vote creators needed way to manage their votes: view ballots, handle mistakes, remove inappropriate submissions, and control voting state.

#### Options Considered
- **Option A: Read-only votes**
  - No admin capabilities
  - Votes immutable after creation
- **Option B: Admin panel with write secret authentication**
  - View all ballots
  - Delete ballots/votes
  - Close/reopen voting
  - Edit options

#### Decision
Implement Option B - Full-featured admin panel.

#### Rationale
- Vote creators need control over their votes
- Enables error correction (delete duplicate/test ballots)
- Allows closing vote when decision is made
- Write secret provides sufficient authentication for small groups
- Editing options enables adding forgotten choices

#### Consequences
- New route: `/v/:voteId/admin`
- Admin URL provided at vote creation
- Database functions: `deleteVote`, `deleteBallot`, `closeVote`, `reopenVote`, `updateVoteOptions`
- API routes: DELETE and PATCH on `/api/votes/:voteId`
- Closed votes prevent new ballot submissions
- Editing options cleans up existing ballots (removes deleted options)

#### Scope
- [x] UX / product behavior
- [x] Security / abuse prevention
- [x] Data model

---
