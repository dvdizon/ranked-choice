# Decision Record

**Decision ID:** DR-2026-02-13-02  
**Status:** Accepted  
**Date:** 2026-02-13  
**Deciders:** Product + Maintainers

## Context
Recurring vote IDs were previously generated with opaque timestamp suffixes (for example, `group-k4h3s9`). Users needed readable, date-based contest IDs (such as `friday-lunch-02-13-2026`) and a way to rename contest IDs after creation when plans change.

## Options Considered
- **Option A:** Keep timestamp-generated recurring IDs and require manual custom IDs each week.
- **Option B:** Add configurable recurring ID format tokens and keep manual admin rename support.
- **Option C:** Force a single built-in recurring format with no rename option.

## Decision
Adopt **Option B**:
- Add configurable recurring contest ID format tokens on vote creation.
- Default recurring format to `{title}-{close-mm-dd-yyyy}`.
- Add admin action to rename an existing contest ID (updates vote + ballots URLs/references).

## Rationale
This preserves existing behavior for legacy recurring groups while adding predictable, human-readable IDs for new recurring workflows. It also provides an operational escape hatch when an ID must be corrected after creation.

## Consequences
- Recurring votes can now produce deterministic date-based IDs.
- Admin panel/API can rename contest IDs without recreating votes.
- Database schema gains `recurrence_id_format` for recurring template persistence.

## Scope
- [ ] Voting rules
- [x] UX / product behavior
- [ ] Security / abuse prevention
- [ ] Deployment / ops
- [x] Data model
- [ ] Other: ________

## Notes
Supported tokens: `{title}`, `{close-mm-dd-yyyy}`, `{close-yyyy-mm-dd}`, `{start-mm-dd-yyyy}`, `{start-yyyy-mm-dd}`.
