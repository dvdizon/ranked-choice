# DR-2026-01-25-07: Admin API Keys for Programmatic Access

**Decision ID:** DR-2026-01-25-07
**Status:** Accepted
**Date:** 2026-01-25
**Deciders:** User (David)

#### Context
There is a need for programmatic vote creation and future rate limiting, which requires a way to track API clients securely.

#### Options Considered
- **Option A: No API keys**
  - Keep endpoints open without tracking
  - Harder to rate-limit or audit usage
- **Option B: Admin-managed API keys**
  - Admin can create/list/delete keys
  - Keys stored hashed for security
  - Establishes infrastructure for future rate limiting

#### Decision
Implement Option B - Admin-managed API keys with secure storage.

#### Rationale
- Enables programmatic access without user accounts
- Prepares for rate limiting and auditing
- Keeps management simple via admin secret
- Avoids exposing raw keys in storage

#### Consequences
- Added `api_keys` table with hashed keys and usage timestamps
- New admin endpoint `/api/admin/api-keys` protected by `ADMIN_SECRET`
- API key generation with `rcv_` prefix and secure hashing
- REST API documentation added for programmatic access

#### Scope
- [x] Security / abuse prevention
- [x] Data model

#### Notes
- API keys are managed for now; enforcement may be added later

---
