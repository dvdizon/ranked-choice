# Rate limiting zones for Ranked Choice Voting App
#
# Installation:
#   Copy this file to /etc/nginx/conf.d/rcv-rate-limits.conf
#   (conf.d files are automatically included in the http block)
#
# Or add these lines directly to /etc/nginx/nginx.conf inside http { }

# API rate limit: 10 requests/second per IP (normal usage)
limit_req_zone $binary_remote_addr zone=rcv_api:10m rate=10r/s;

# Vote creation rate limit: 1 request/minute per IP (stricter)
limit_req_zone $binary_remote_addr zone=rcv_create:10m rate=1r/m;

# Connection limit: max concurrent connections per IP
limit_conn_zone $binary_remote_addr zone=rcv_conn:10m;
